<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Staatliches&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>rock-paper-scissors</title>
</head>
<body>
    <div class="header">
        <h1>Rock Paper Scissors.</h1>
        <img src="https://s3-eu-west-1.amazonaws.com/wia-flarum-bucket/2018-07-04/1530701878-372923-blog-05.png" alt="Rock-Paper-Scissors">
    </div>
    <div class="game">
        <button type="button" onClick="game()">PLAY</button>
        <!--<button type="button" onClick="playerChose(0)">Rock</button>
        <button type="button" onClick="playerChose(1)">Paper</button>
        <button type="button" onClick="playerChose(2)">Scissors</button> -->
    </div>
    
    <script>
        let playerWins = 0;
        let computerWins = 0;

        function playerChose(choice){
            let playerSelection = choice
            let computerChoice, decidedWinner;
            const options = ["Rock", "Paper", "Scissors"];
            const winnerMatrix= [["It's a Tie.",'You Won!','You Lost. :('],['You Lost. :(',"It's a Tie.",'You Won!'],['You Won!','You Lost. :(',"It's a Tie."]];

            computerChoice = Math.floor(Math.random() * 3);
            console.log("Computer chose %s", options[computerChoice]);

            decidedWinner = winnerMatrix[computerChoice][playerSelection];
            
            if (!(decidedWinner.localeCompare("You Won!"))){
                console.log("Player rewarded 1 point");
                playerWins += 1;
            }else if (!(decidedWinner.localeCompare('You Lost. :('))){
                computerWins +=1;
            }


            alert("Computer Chose : " + options[computerChoice] + "\n\n" + decidedWinner);
        }
        
        function game(){
            playerWins = 0;
            computerWins = 0;
            let running_round = 1;
            let roundNum = 1;

            while (running_round){
                let userInput = prompt("Rock, Paper, Scissors?");
                if (userInput.toLowerCase() == 'rock'){
                    playerChose(0);
                }else if (userInput.toLowerCase() == 'paper'){
                    playerChose(1);
                }else if (userInput.toLowerCase() == 'scissors'){
                    playerChose(2);
                }else{
                    alert("You didn't pick rock, paper, or scissors. Please choose an appropiate weapon.");
                    continue;
                }

                if (roundNum == 5){
                    running_round = 0;
                }
                else{
                    roundNum += 1;
                }
            }

            if (computerWins > playerWins){
                alert("Game Summary\nThe computer has won: " + computerWins + " rounds\nYou have won: " + playerWins + " rounds.\n\n Game over.");
            } else if (computerWins < playerWins){
                alert("Game Summary\nThe computer has won: " + computerWins + " rounds\nYou have won: " + playerWins + " rounds.\n\n You won!!!");
            } else{
                alert("Game Summary\nThe computer has won: " + computerWins + " rounds\nYou have won: " + playerWins + " rounds.\n\n Its a tie!");
            }
            

        }
        
        
    </script>

    
</body>
</html>